{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport { Table, Input, Button, Icon, Tabs } from \"antd\";\nimport Link from \"next/link\";\nimport Highlighter from \"react-highlight-words\";\nimport { useSelector } from \"react-redux\";\nimport { LIST_EDEG1CODE } from \"../../../globalValue\";\nimport { getColumnSearchProps, filterIcon, onFilter, onFilterDropdownVisibleChange, handleSearch, handleReset } from \"../../../functions/globalFunc\";\n\nvar edoc01 = function edoc01() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchText = _useState2[0],\n      setSerchText = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredInfo = _useState4[0],\n      setFilterdInfo = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortedInfo = _useState6[0],\n      setSortedInfo = _useState6[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.edocument;\n  }),\n      edoc = _useSelector.edoc,\n      isLogging = _useSelector.isLogging;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.me;\n  }),\n      me = _useSelector2.me; // 데이터 리덕스에서 가져와서 나누기\n\n\n  var doc = edoc !== null && edoc.filter(function (item) {\n    return (item.EDSTCode === me.SUSTCODE || item.EJBEFJOINSTCODE === me.SUSTCODE) && item.ERSTCODE !== me.SUSTCODE && item.EDEJSeq === item.EJSEQ && item.EDEG1Code >= 100 && item.EDEG1Code < 200;\n  });\n  var doc2 = edoc !== null && edoc.filter(function (item) {\n    return item.EJAFTJOINSTCODE === me.SUSTCODE && item.EJSEQ === item.EDEJSeq && (item.EJSIGNGUBUN === 1 || item.EJSIGNGUBUN === 4) && item.EDEG1Code >= 100 && item.EDEG1Code < 200;\n  });\n  var doc3 = edoc !== null && edoc.filter(function (item) {\n    return item.EJAFTJOINSTCODE === me.SUSTCODE && item.EJSEQ === item.EDEJSeq && item.EJSIGNGUBUN !== 1 && item.EJSIGNGUBUN !== 4 && item.EDEG1Code >= 100 && item.EDEG1Code < 200;\n  });\n  var searchInput = null;\n  var filtedEdeg1code = LIST_EDEG1CODE.map(function (item, index) {\n    return {\n      text: item.name,\n      value: item.name\n    };\n  }); // 필터 기능\n\n  var handleChange = function handleChange(pagination, filters, sorter) {\n    // console.log(\"Various parameters\", pagination, filters, sorter);\n    setFilterdInfo(filters);\n    setSortedInfo(sorter); // this.setState({\n    //   filteredInfo: filters,\n    //   sortedInfo: sorter\n    // });\n  };\n\n  var columns = [{\n    title: \"구분\",\n    dataIndex: \"EDEG1Name\",\n    key: \"EDEG1Name\",\n    width: \"10%\",\n    filters: filtedEdeg1code.filter(function (item) {\n      return item.text === \"인사\" || item.text === \"업무\" || item.text === \"총무\";\n    }),\n    filteredValue: filteredInfo.EDEG1Name || null,\n    onFilter: function onFilter(value, record) {\n      // console.log(record, value, record.EDEG1Name.includes(value));\n      return record.EDEG1Name.includes(value);\n    }\n  }, _objectSpread({\n    title: \"제목\",\n    dataIndex: \"EDTitle\",\n    key: \"EDTitle\",\n    width: \"50%\"\n  }, getColumnSearchProps(\"EDTitle\", searchText, setSerchText)), {\n    title: \"기안일\",\n    dataIndex: \"EDDateTime\",\n    key: \"EDDateTime\",\n    width: \"20%\",\n    sorter: function sorter(a, b) {\n      return new Date(a.EDDateTime) - new Date(b.EDDateTime);\n    },\n    sortOrder: sortedInfo.columnKey === \"EDDateTime\" && sortedInfo.order\n  }, _objectSpread({\n    title: \"결재자\",\n    dataIndex: \"EJAFTJOINSTNAME\",\n    key: \"EJAFTJOINSTNAME\",\n    width: \"10%\"\n  }, getColumnSearchProps(\"EJAFTJOINSTNAME\", searchText, setSerchText)), {\n    title: \"상태\",\n    dataIndex: \"EJSIGNNAME\",\n    key: \"EJSIGNNAME\",\n    width: \"10%\"\n  }];\n  var columns2 = [{\n    title: \"구분\",\n    dataIndex: \"EDEG1Name\",\n    key: \"EDEG1Name\",\n    width: \"10%\",\n    filters: filtedEdeg1code.filter(function (item) {\n      return item.text === \"인사\" || item.text === \"업무\" || item.text === \"총무\";\n    }),\n    filteredValue: filteredInfo.EDEG1Name || null,\n    onFilter: function onFilter(value, record) {\n      console.log(record, value, record.EDEG1Name.includes(value));\n      return record.EDEG1Name.includes(value);\n    }\n  }, _objectSpread({\n    title: \"제목\",\n    dataIndex: \"EDTitle\",\n    key: \"EDTitle\",\n    width: \"50%\"\n  }, getColumnSearchProps(\"EDTitle\")), {\n    title: \"기안일\",\n    dataIndex: \"EDDateTime\",\n    key: \"EDDateTime\",\n    width: \"20%\",\n    sorter: function sorter(a, b) {\n      return new Date(a.EDDateTime) - new Date(b.EDDateTime);\n    },\n    sortOrder: sortedInfo.columnKey === \"EDDateTime\" && sortedInfo.order\n  }, _objectSpread({\n    title: \"기안자\",\n    dataIndex: \"EJBEFJOINSTNAME\",\n    key: \"EJBEFJOINSTNAME\",\n    width: \"10%\"\n  }, getColumnSearchProps(\"EJBEFJOINSTNAME\")), {\n    title: \"상태\",\n    dataIndex: \"EJSIGNNAME\",\n    key: \"EJSIGNNAME\",\n    width: \"10%\"\n  }];\n  var columns3 = [{\n    title: \"구분\",\n    dataIndex: \"EDEG1Name\",\n    key: \"EDEG1Name\",\n    width: \"10%\",\n    filters: filtedEdeg1code.filter(function (item) {\n      return item.text === \"인사\" || item.text === \"업무\" || item.text === \"총무\";\n    }),\n    filteredValue: filteredInfo.EDEG1Name || null,\n    onFilter: function onFilter(value, record) {\n      console.log(record, value, record.EDEG1Name.includes(value));\n      return record.EDEG1Name.includes(value);\n    }\n  }, _objectSpread({\n    title: \"제목\",\n    dataIndex: \"EDTitle\",\n    key: \"EDTitle\",\n    width: \"50%\"\n  }, getColumnSearchProps(\"EDTitle\")), {\n    title: \"기안일\",\n    dataIndex: \"EDDateTime\",\n    key: \"EDDateTime\",\n    width: \"20%\",\n    sorter: function sorter(a, b) {\n      return new Date(a.EDDateTime) - new Date(b.EDDateTime);\n    },\n    sortOrder: sortedInfo.columnKey === \"EDDateTime\" && sortedInfo.order\n  }, _objectSpread({\n    title: \"기안자\",\n    dataIndex: \"EDSTNAME\",\n    key: \"EDSTNAME\",\n    width: \"10%\"\n  }, getColumnSearchProps(\"EDSTNAME\")), {\n    title: \"상태\",\n    dataIndex: \"EJSIGNNAME\",\n    key: \"EJSIGNNAME\",\n    width: \"10%\"\n  }];\n\n  var itemClicked = function itemClicked(record, index) {\n    console.log(\"itemClicked\", record, index);\n  };\n\n  var TabPane = Tabs.TabPane;\n  return isLogging ? null : React.createElement(Tabs, {\n    type: \"card\"\n  }, React.createElement(TabPane, {\n    tab: \"\\uB0B4 \\uACB0\\uC7AC\\uD568\",\n    key: \"1\"\n  }, React.createElement(Table, {\n    columns: columns,\n    dataSource: doc,\n    onChange: handleChange(),\n    onRow: function onRow(record, rowIndex) {\n      return {\n        onClick: function onClick() {\n          return itemClicked(record, rowIndex);\n        }\n      };\n    }\n  })), React.createElement(TabPane, {\n    tab: \"\\uC5C5\\uBB34 \\uC694\\uCCAD\",\n    key: \"2\"\n  }, React.createElement(Table, {\n    columns: columns2,\n    dataSource: doc2\n  })), React.createElement(TabPane, {\n    tab: \"\\uC804\\uC790 \\uBB38\\uC11C\\uD568\",\n    key: \"3\"\n  }, React.createElement(Table, {\n    columns: columns3,\n    dataSource: doc3\n  }))); // return <div />;\n};\n\nexport default edoc01;","map":{"version":3,"sources":["/Users/linepayroll/Desktop/nextApp/front/pages/edocument/edoc/edoc01.js"],"names":["React","useState","useEffect","Table","Input","Button","Icon","Tabs","Link","Highlighter","useSelector","LIST_EDEG1CODE","getColumnSearchProps","filterIcon","onFilter","onFilterDropdownVisibleChange","handleSearch","handleReset","edoc01","searchText","setSerchText","filteredInfo","setFilterdInfo","sortedInfo","setSortedInfo","state","edocument","edoc","isLogging","me","doc","filter","item","EDSTCode","SUSTCODE","EJBEFJOINSTCODE","ERSTCODE","EDEJSeq","EJSEQ","EDEG1Code","doc2","EJAFTJOINSTCODE","EJSIGNGUBUN","doc3","searchInput","filtedEdeg1code","map","index","text","name","value","handleChange","pagination","filters","sorter","columns","title","dataIndex","key","width","filteredValue","EDEG1Name","record","includes","a","b","Date","EDDateTime","sortOrder","columnKey","order","columns2","console","log","columns3","itemClicked","TabPane","rowIndex","onClick"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Table, Input, Button, Icon, Tabs } from \"antd\";\nimport Link from \"next/link\";\nimport Highlighter from \"react-highlight-words\";\nimport { useSelector } from \"react-redux\";\nimport { LIST_EDEG1CODE } from \"../../../globalValue\";\nimport {\n  getColumnSearchProps,\n  filterIcon,\n  onFilter,\n  onFilterDropdownVisibleChange,\n  handleSearch,\n  handleReset\n} from \"../../../functions/globalFunc\";\nconst edoc01 = () => {\n  const [searchText, setSerchText] = useState(\"\");\n  const [filteredInfo, setFilterdInfo] = useState({});\n  const [sortedInfo, setSortedInfo] = useState({});\n  const { edoc, isLogging } = useSelector(state => state.edocument);\n  const { me } = useSelector(state => state.me);\n\n  // 데이터 리덕스에서 가져와서 나누기\n  const doc =\n    edoc !== null &&\n    edoc.filter(\n      item =>\n        (item.EDSTCode === me.SUSTCODE ||\n          item.EJBEFJOINSTCODE === me.SUSTCODE) &&\n        item.ERSTCODE !== me.SUSTCODE &&\n        item.EDEJSeq === item.EJSEQ &&\n        (item.EDEG1Code >= 100 && item.EDEG1Code < 200)\n    );\n  const doc2 =\n    edoc !== null &&\n    edoc.filter(\n      item =>\n        item.EJAFTJOINSTCODE === me.SUSTCODE &&\n        item.EJSEQ === item.EDEJSeq &&\n        (item.EJSIGNGUBUN === 1 || item.EJSIGNGUBUN === 4) &&\n        (item.EDEG1Code >= 100 && item.EDEG1Code < 200)\n    );\n  const doc3 =\n    edoc !== null &&\n    edoc.filter(\n      item =>\n        item.EJAFTJOINSTCODE === me.SUSTCODE &&\n        item.EJSEQ === item.EDEJSeq &&\n        item.EJSIGNGUBUN !== 1 &&\n        item.EJSIGNGUBUN !== 4 &&\n        (item.EDEG1Code >= 100 && item.EDEG1Code < 200)\n    );\n\n  var searchInput = null;\n\n  const filtedEdeg1code = LIST_EDEG1CODE.map((item, index) => {\n    return {\n      text: item.name,\n      value: item.name\n    };\n  });\n\n  // 필터 기능\n  const handleChange = (pagination, filters, sorter) => {\n    // console.log(\"Various parameters\", pagination, filters, sorter);\n    setFilterdInfo(filters);\n    setSortedInfo(sorter);\n    // this.setState({\n    //   filteredInfo: filters,\n    //   sortedInfo: sorter\n    // });\n  };\n  const columns = [\n    {\n      title: \"구분\",\n      dataIndex: \"EDEG1Name\",\n      key: \"EDEG1Name\",\n      width: \"10%\",\n      filters: filtedEdeg1code.filter(\n        item =>\n          item.text === \"인사\" || item.text === \"업무\" || item.text === \"총무\"\n      ),\n      filteredValue: filteredInfo.EDEG1Name || null,\n      onFilter: (value, record) => {\n        // console.log(record, value, record.EDEG1Name.includes(value));\n        return record.EDEG1Name.includes(value);\n      }\n    },\n    {\n      title: \"제목\",\n      dataIndex: \"EDTitle\",\n      key: \"EDTitle\",\n      width: \"50%\",\n      ...getColumnSearchProps(\"EDTitle\", searchText, setSerchText)\n    },\n    {\n      title: \"기안일\",\n      dataIndex: \"EDDateTime\",\n      key: \"EDDateTime\",\n      width: \"20%\",\n      sorter: (a, b) => new Date(a.EDDateTime) - new Date(b.EDDateTime),\n      sortOrder: sortedInfo.columnKey === \"EDDateTime\" && sortedInfo.order\n    },\n    {\n      title: \"결재자\",\n      dataIndex: \"EJAFTJOINSTNAME\",\n      key: \"EJAFTJOINSTNAME\",\n      width: \"10%\",\n      ...getColumnSearchProps(\"EJAFTJOINSTNAME\", searchText, setSerchText)\n    },\n    {\n      title: \"상태\",\n      dataIndex: \"EJSIGNNAME\",\n      key: \"EJSIGNNAME\",\n      width: \"10%\"\n    }\n  ];\n  const columns2 = [\n    {\n      title: \"구분\",\n      dataIndex: \"EDEG1Name\",\n      key: \"EDEG1Name\",\n      width: \"10%\",\n      filters: filtedEdeg1code.filter(\n        item =>\n          item.text === \"인사\" || item.text === \"업무\" || item.text === \"총무\"\n      ),\n      filteredValue: filteredInfo.EDEG1Name || null,\n      onFilter: (value, record) => {\n        console.log(record, value, record.EDEG1Name.includes(value));\n        return record.EDEG1Name.includes(value);\n      }\n    },\n    {\n      title: \"제목\",\n      dataIndex: \"EDTitle\",\n      key: \"EDTitle\",\n      width: \"50%\",\n      ...getColumnSearchProps(\"EDTitle\")\n    },\n    {\n      title: \"기안일\",\n      dataIndex: \"EDDateTime\",\n      key: \"EDDateTime\",\n      width: \"20%\",\n      sorter: (a, b) => new Date(a.EDDateTime) - new Date(b.EDDateTime),\n      sortOrder: sortedInfo.columnKey === \"EDDateTime\" && sortedInfo.order\n    },\n    {\n      title: \"기안자\",\n      dataIndex: \"EJBEFJOINSTNAME\",\n      key: \"EJBEFJOINSTNAME\",\n      width: \"10%\",\n      ...getColumnSearchProps(\"EJBEFJOINSTNAME\")\n    },\n    {\n      title: \"상태\",\n      dataIndex: \"EJSIGNNAME\",\n      key: \"EJSIGNNAME\",\n      width: \"10%\"\n    }\n  ];\n  const columns3 = [\n    {\n      title: \"구분\",\n      dataIndex: \"EDEG1Name\",\n      key: \"EDEG1Name\",\n      width: \"10%\",\n      filters: filtedEdeg1code.filter(\n        item =>\n          item.text === \"인사\" || item.text === \"업무\" || item.text === \"총무\"\n      ),\n      filteredValue: filteredInfo.EDEG1Name || null,\n      onFilter: (value, record) => {\n        console.log(record, value, record.EDEG1Name.includes(value));\n        return record.EDEG1Name.includes(value);\n      }\n    },\n    {\n      title: \"제목\",\n      dataIndex: \"EDTitle\",\n      key: \"EDTitle\",\n      width: \"50%\",\n      ...getColumnSearchProps(\"EDTitle\")\n    },\n    {\n      title: \"기안일\",\n      dataIndex: \"EDDateTime\",\n      key: \"EDDateTime\",\n      width: \"20%\",\n      sorter: (a, b) => new Date(a.EDDateTime) - new Date(b.EDDateTime),\n      sortOrder: sortedInfo.columnKey === \"EDDateTime\" && sortedInfo.order\n    },\n    {\n      title: \"기안자\",\n      dataIndex: \"EDSTNAME\",\n      key: \"EDSTNAME\",\n      width: \"10%\",\n      ...getColumnSearchProps(\"EDSTNAME\")\n    },\n    {\n      title: \"상태\",\n      dataIndex: \"EJSIGNNAME\",\n      key: \"EJSIGNNAME\",\n      width: \"10%\"\n    }\n  ];\n\n  const itemClicked = (record, index) => {\n    console.log(\"itemClicked\", record, index);\n  };\n  const TabPane = Tabs.TabPane;\n  return isLogging ? null : (\n    <Tabs type=\"card\">\n      <TabPane tab=\"내 결재함\" key=\"1\">\n        <Table\n          columns={columns}\n          dataSource={doc}\n          onChange={handleChange()}\n          onRow={(record, rowIndex) => {\n            return {\n              onClick: () => itemClicked(record, rowIndex)\n            };\n          }}\n        />\n      </TabPane>\n      <TabPane tab=\"업무 요청\" key=\"2\">\n        <Table columns={columns2} dataSource={doc2} />\n      </TabPane>\n      <TabPane tab=\"전자 문서함\" key=\"3\">\n        <Table columns={columns3} dataSource={doc3} />\n      </TabPane>\n    </Tabs>\n  );\n  // return <div />;\n};\n\nexport default edoc01;\n"]},"metadata":{},"sourceType":"module"}